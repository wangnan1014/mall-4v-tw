(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4777c5e"],{"1e58":function(e,t,s){"use strict";s("6cdb")},"5e61":function(e,t,s){},"6cdb":function(e,t,s){},7772:function(e,t,s){"use strict";s("5e61")},9279:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mod-prod-sku-table"},[s("el-form-item",[s("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.value,border:"","span-method":e.tableSpanMethod}},[e._l(e.tableLeftTitles,(function(t,o){return s("el-table-column",{key:o,attrs:{label:t},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.properties.split(";")[o].split(":")[1])+" ")]}}],null,!0)})})),e.tableLeftTitles.length?s("el-table-column",{attrs:{prop:"pic",label:"sku圖片",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("pic-upload",{model:{value:t.row.pic,callback:function(s){e.$set(t.row,"pic",s)},expression:"scope.row.pic"}})]}}],null,!1,1005777877)}):e._e(),e.tableLeftTitles.length?s("el-table-column",{attrs:{prop:"prodName",label:"商品名稱",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{type:"textarea",disabled:!t.row.status},model:{value:t.row.prodName,callback:function(s){e.$set(t.row,"prodName",s)},expression:"scope.row.prodName"}})]}}],null,!1,1047629452)}):e._e(),s("el-table-column",{attrs:{prop:"price",label:"銷售價"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input-number",{attrs:{size:"small","controls-position":"right",precision:2,max:1e9,min:.01,disabled:!t.row.status},model:{value:t.row.price,callback:function(s){e.$set(t.row,"price",s)},expression:"scope.row.price"}})]}}])}),s("el-table-column",{attrs:{prop:"oriPrice",label:"市場價"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input-number",{attrs:{size:"small","controls-position":"right",precision:2,max:1e9,min:.01,disabled:!t.row.status},model:{value:t.row.oriPrice,callback:function(s){e.$set(t.row,"oriPrice",s)},expression:"scope.row.oriPrice"}})]}}])}),s("el-table-column",{attrs:{prop:"stocks",label:"庫存"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{type:"number",disabled:!t.row.status},model:{value:t.row.stocks,callback:function(s){e.$set(t.row,"stocks",s)},expression:"scope.row.stocks"}})]}}])}),s("el-table-column",{attrs:{prop:"weight",label:"商品重量(kg)"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{disabled:!t.row.status},model:{value:t.row.weight,callback:function(s){e.$set(t.row,"weight",s)},expression:"scope.row.weight"}})]}}])}),s("el-table-column",{attrs:{prop:"volume",label:"商品體積(m³)"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{disabled:!t.row.status},model:{value:t.row.volume,callback:function(s){e.$set(t.row,"volume",s)},expression:"scope.row.volume"}})]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.changeSkuStatus(""+t.$index)}}},[e._v("禁用")]):s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.changeSkuStatus(""+t.$index)}}},[e._v("启用")])]}}])})],2)],1)],1)},l=[],a=s("cf95"),r={data(){return{dbSpecs:[],dbSpecValues:[],specs:[],initing:!1}},components:{PicUpload:a["a"]},props:{value:{default:[],type:Array},prodName:{default:""}},watch:{prodName:function(){this.skuAddProdName()}},created:function(){this.$http({url:this.$http.adornUrl("/prod/spec/list"),method:"get",params:this.$http.adornParams()}).then(({data:e})=>{this.dbSpecs=e})},computed:{tableLeftTitles(){let e=[];for(let t=0;t<this.skuTags.length;t++){const s=this.skuTags[t];e.push(s.tagName)}return e},skuTags:{get(){return this.$store.state.prod.skuTags}},defalutSku(){return this.$store.state.prod.defalutSku}},methods:{init(){this.initing=!0},getTableSpecData(){return this.value},tableSpanMethod({row:e,column:t,rowIndex:s,columnIndex:o}){},changeSkuStatus(e){this.value[e].status=this.value[e].status?0:1},skuAddProdName(){if(this.initing)return;let e=[];for(let t=0;t<this.value.length;t++){const s=Object.assign({},this.value[t]);if(!s.properties)return;s.skuName="";let o=s.properties.split(";");for(const e in o)s.skuName+=o[e].split(":")[1]+" ";s.prodName=this.prodName+" "+s.skuName,e.push(s)}this.$emit("input",e)}}},n=r,i=(s("1e58"),s("2877")),u=Object(i["a"])(n,o,l,!1,null,null,null);t["default"]=u.exports},cf95:function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-upload",{staticClass:"pic-uploader-component",attrs:{action:e.$http.adornUrl("/admin/file/upload/element"),headers:{Authorization:e.$cookie.get("Authorization")},"show-file-list":!1,"on-success":e.handleUploadSuccess,"before-upload":e.beforeAvatarUpload}},[e.value?s("img",{staticClass:"pic",attrs:{src:e.resourcesUrl+e.value}}):s("i",{staticClass:"el-icon-plus pic-uploader-icon"})])],1)},l=[],a={data(){return{resourcesUrl:"https://hrm.jebsee.com.tw:32681/images/"}},props:{value:{default:"",type:String}},methods:{handleUploadSuccess(e,t,s){this.$emit("input",t.response)},beforeAvatarUpload(e){const t=e.size/1024/1024<2,s="image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/jpg"===e.type;return s||this.$message.error("上传图片只能是jpeg/jpg/png/gif 格式!"),t||this.$message.error("上传图片大小不能超过 2MB!"),t&&s}}},r=a,n=(s("7772"),s("2877")),i=Object(n["a"])(r,o,l,!1,null,null,null);t["a"]=i.exports}}]);